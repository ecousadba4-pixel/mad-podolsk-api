/* Global layout & base elements moved to `modules/_typography.scss` */

/* Toasts (could be moved to a components file later) */
.toast {
        position: fixed;
		bottom: var(--fab-offset);
		right: var(--fab-offset);
        background: var(--bg-card);
	padding: var(--card-padding) var(--gap-xl);
	border-radius: var(--radius-md);
	box-shadow: var(--shadow-soft);
		animation: slide-in 0.3s ease;
        z-index: 1000;
}

/* Moved into SCSS modules
   All layout-related rules have been migrated into:
   - `modules/_layout-grid.scss`
   - `modules/_header-controls.scss`
   - `modules/_cards.scss` (where appropriate)

   This legacy file has been left intentionally blank. Remove the file
   from the repository if you want to delete the old artifact.
*/
@media (prefers-reduced-motion: reduce) {
        .toast {
                animation: none;
        }
}

.toast.success {
	border-left: 4px solid var(--success);
}

.toast.error {
	border-left: 4px solid var(--danger);
}

./* Layout primitives moved to `modules/_layout-grid.scss` */

.day-info {
        display: flex;
        gap: var(--gap-md);
        align-items: stretch;
}

.day-select {
	display: flex;
	align-items: center;
	gap: var(--gap-sm);
	padding: var(--gap-sm) var(--card-inner-gap);
	border-radius: var(--radius-md);
	border: 1px solid var(--border-soft);
	background: var(--bg-card);
	min-width: 162px;
	box-shadow: var(--shadow-card);
	min-height: var(--control-height);
}

.day-select label {
	font-size: var(--font-size-caption);
	color: var(--text-muted);
}

.day-select-control {
	position: relative;
	flex: 1;
	min-width: 146px;
}
		.page-header.compact .month-select label { font-size: var(--font-size-label); }

.day-select-control input[type="date"] {
	width: 100%;
	font-family: var(--font-sans);
	font-size: var(--font-size-body);
	font-weight: 600;
	appearance: none;
	padding-right: 32px;
	border: none;
	background: transparent;
	color: var(--text-main);
	outline: none;
	position: relative;
}

.day-select-control::after {
	content: "";
	position: absolute;
	top: 50%;
	right: 8px;
	transform: translateY(-50%);
	width: 20px;
	height: 20px;
	background: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='3' y='4' width='14' height='13' rx='2' stroke='%236B77F4' stroke-width='1.5'/%3E%3Cpath d='M7 2.5V6' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M13 2.5V6' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M3 8.5H17' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E") center/contain no-repeat;
	opacity: 0.8;
	pointer-events: none;
}

.day-select-control input[type="date"]::-webkit-calendar-picker-indicator {
	cursor: pointer;
	color: transparent;
	background: transparent;
	opacity: 0;
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
}

.day-select-control input[type="date"]:disabled {
	color: var(--text-muted);
}

.contract-card {
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-soft);
        box-shadow: var(--shadow-card);
        padding: clamp(14px, 2vw, var(--gap-lg));
        display: grid;
        gap: var(--gap-md);
        margin-bottom: var(--section-gap);
        min-height: var(--control-height);
}

.contract-card-header {
	display: flex;
	flex-direction: column;
	gap: var(--gap-sm);
}

.contract-card-title {
	font-weight: 700;
	font-size: var(--font-size-h3);
	display: flex;
	align-items: baseline;
	flex-wrap: wrap;
	gap: var(--gap-xs);
}

.contract-card-title-date {
	display: inline;
	font-weight: inherit;
	font-size: inherit;
	color: inherit;
}

.contract-card-values {
	display: flex;
	gap: var(--gap-sm);
	font-size: var(--font-size-body-sm);
	flex-wrap: nowrap;
}

.contract-card-values > div {
	flex: 1 1 0;
	min-width: 0;
}

.contract-card-values .label {
	font-size: 0.75rem;
	letter-spacing: 0.06em;
	text-transform: uppercase;
	color: var(--text-muted);
	display: block;
	margin-bottom: 2px;
}

.contract-progress {
    padding-inline: var(--card-inner-gap);
    box-sizing: border-box;
}

.contract-progress-bar {
    width: 100%;
    height: var(--progress-height);
    background: var(--bg-muted);
    border: 1px solid var(--border-soft);
    border-radius: var(--radius-xxl);
    overflow: hidden;
    box-shadow: inset 0 1px 0 rgb(255 255 255 / 50%);
    position: relative;
}

.contract-progress-fill {
	height: 100%;
	width: 0;
	background: var(--accent);
	transition: width 0.35s ease, background-color 0.2s ease;
	border-radius: var(--radius-xxl);
	box-shadow: var(--shadow-card);
}

.contract-progress-fill.overflow {
	background: var(--success);
}

@media (width >= 768px) {
	.contract-card-header {
		flex-direction: row;
		align-items: center;
		justify-content: space-between;
	}

	.contract-card-values {
		gap: clamp(12px, 2vw, 18px);
	}
}

.pdf-action {
	display: flex;
	align-items: center;
}

.pdf-action-mobile {
	display: none;
}

.month-info {
        display: flex;
        align-items: center;
        gap: var(--gap-md);
        flex-wrap: nowrap;
}

.month-select {
	display: flex;
	align-items: center;
	gap: var(--gap-sm);
	padding: var(--gap-sm) 14px;
	background: var(--bg-card);
	border-radius: var(--radius-md);
	border: 1px solid var(--border-soft);
	box-shadow: var(--shadow-card);
	min-height: var(--control-height);
	position: relative;
}

.month-select label {
	font-size: var(--font-size-caption);
	color: var(--text-muted);
}

.month-select-control {
	position: relative;
	flex: 1;
	min-width: 146px;
}

.month-select-control select {
	width: 100%;
	appearance: none;
	padding-right: 26px;
}

.month-select-control::after {
	content: "";
	position: absolute;
	top: 50%;
	right: 8px;
	width: 8px;
	height: 8px;
	border-right: 2px solid var(--chevron-color);
	border-bottom: 2px solid var(--chevron-color);
	transform: translateY(-50%) rotate(45deg);
	pointer-events: none;
	opacity: 1;
}

select,
input[type="date"] {
	border: none;
	background: transparent;
	font-size: var(--font-size-body);
	color: var(--text-main);
	outline: none;
	font-weight: 600;
}

/* Pill styles moved to `utilities.css` (or can be consolidated in modules/_buttons-pills.scss) */

/* --- Header layout refinements --- */
.page-header {
	display: flex;
	flex-direction: column;
	gap: var(--gap-lg);
	margin-bottom: var(--grid-gap);
	padding: clamp(var(--gap-md), 2vw, var(--gap-lg)) 0;
}

.page-header-left {
	display: flex;
	flex-direction: column;
	gap: var(--gap-md);
}

.page-header-right {
	display: flex;
	flex-direction: column;
	gap: var(--gap-md);
	align-items: stretch;
}

.header-actions {
	display: flex;
	align-items: center;
}

.view-switch {
	display: inline-flex;
	gap: var(--gap-xs);
	background: var(--bg-card);

	/* border: 1px solid var(--border-soft); */
	border-radius: var(--radius-md);
	padding: var(--gap-xs);
	box-shadow: var(--shadow-card);
	width: fit-content;
	min-height: var(--control-height);
}

.view-tab {
	background: transparent;
	border: none;
	padding: var(--gap-xs) var(--gap-md);
	font-size: var(--font-size-label);
	font-weight: 600;
	letter-spacing: 0.02em;
	border-radius: var(--radius-sm);
	cursor: pointer;
	color: var(--text-muted);
	position: relative;
	transition: background 0.15s ease, color 0.15s ease, box-shadow 0.2s ease;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	line-height: 1.1;
	min-width: 64px;
}

.view-tab-line1,
.view-tab-line2 {
	display: block;
	white-space: nowrap;
}

.view-tab-line1 {
	font-size: var(--font-size-label);
}

.view-tab-line2 {
	font-size: var(--font-size-caption);
}

.view-tab:hover:not(.is-active) {
	background: var(--bg-muted);
	color: var(--text-main);
}

.view-tab.is-active {
        background: var(--accent);
        color: var(--text-inverse);
        box-shadow: var(--shadow-btn-primary);
}

.view-tab:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}

@media (width >= 880px) {
	.page-header {
		flex-direction: row;
		justify-content: space-between;
		align-items: flex-end;
	}

	.page-header-right {
		flex-direction: row;
		align-items: stretch;
		gap: var(--gap-lg);
	}

	.header-actions {
		align-items: stretch;
	}

	.page-header-left {
		flex: 1 1 auto;
	}
}

@media (width <= 879px) {
	.view-switch {
		width: 100%;
		min-height: 54px;
	}

		.view-tab {
			flex: 1 1 0;
			text-align: center;
			padding: var(--gap-md) var(--gap-sm);
		min-width: 0;
		flex-direction: row;
		gap: var(--gap-xs);
	}

	.view-tab-line1,
	.view-tab-line2 {
		font-size: 0.78rem;
		display: inline;
	}
}

/* Compact variant */
.page-header.compact {
	gap: var(--gap-sm);
	padding: var(--gap-sm) 0 var(--gap-md);
}
.page-header.compact .title-block { gap: var(--gap-xs); }
.page-header.compact .subtitle { font-size: 0.84rem; }

.page-header.compact .view-switch {
	padding: var(--gap-xs);
	min-height: 54px;
}

.page-header.compact .view-tab {
	padding: var(--gap-xs) var(--gap-md);
	font-size: 0.75rem;
	min-width: 62px;
}

.page-header.compact .month-select,
.page-header.compact .day-select,
.page-header.compact .pill,
.page-header.compact .pdf-action-desktop .btn-airy { min-height: 54px; }

.page-header.compact .month-select,
.page-header.compact .day-select { padding: var(--gap-sm) var(--card-inner-gap); }
	.page-header.compact .pill { padding: var(--gap-sm) var(--card-inner-gap); }
.page-header.compact .pdf-action-desktop .btn-airy.btn-pdf-compact { padding: 0 12px; }
.btn-airy.btn-pdf-compact span { font-size: 0.85rem; letter-spacing: 0.04em; font-weight: 700; }
.btn-airy.btn-pdf-compact { gap: var(--gap-sm); }

@media (width >= 880px) {
	.page-header.compact .page-header-right { gap: var(--gap-md); }
	.page-header.compact .controls { gap: var(--gap-md); }
}

@media (width <= 879px) {
	.page-header.compact .month-select label { font-size: 0.7rem; }
	.page-header.compact .view-tab { flex: 1 1 0; }
}

/* Мобильное: месяц и pill в одну строку */
@media (width <= 767px) {
	.page-header.compact .month-info { flex-wrap: nowrap; width: 100%; }

	.page-header.compact .month-info .month-select,
	.page-header.compact .day-info .day-select { flex: 1 1 auto; min-width: 0; }

	.page-header.compact .month-info .pill,
	.page-header.compact .day-info .pill { flex: 1 1 auto; min-width: 0; }

	.page-header.compact .month-info .month-select,
	.page-header.compact .day-info .day-select,
	.page-header.compact .month-info .pill,
	.page-header.compact .day-info .pill { padding: var(--gap-sm) var(--gap-md); }

	.page-header.compact .month-info,
	.page-header.compact .day-info { gap: var(--gap-md); }

	.pdf-action-mobile-bottom {
		margin: var(--gap-xl) auto var(--gap-lg);
		max-width: 1180px;
		width: 100%;
		padding: 0 clamp(12px, 3vw, 28px);
		box-sizing: border-box;
	}
}

.delta-positive {
	color: var(--success);
}

.delta-negative {
	color: var(--danger);
}

.btn {
        display: inline-flex;
        align-items: center;
        gap: var(--gap-md);
        cursor: pointer;
        background: var(--accent);
        color: var(--text-inverse);
        box-shadow: var(--shadow-btn-primary);
        white-space: nowrap;
        font-weight: 600;
        letter-spacing: 0.02em;
}

.btn svg {
	width: 16px;
	height: 16px;
	stroke: currentcolor;
	stroke-width: 1.6;
}

.btn:disabled {
	opacity: 0.6;
	cursor: not-allowed;
	box-shadow: none;
}

.btn-outline {
        background: var(--surface-highlight);
        color: var(--accent-strong);
        border: 1px solid var(--accent-soft);
        box-shadow: none;
}

.btn-airy {
	background: var(--gradient-btn-airy);
	color: var(--accent-strong);
	border: 1px solid rgb(47 111 237 / 18%);
	box-shadow: var(--shadow-btn-airy);
	padding: 0 16px;
	min-height: var(--control-height);
	display: inline-flex;
	align-items: center;
	gap: var(--gap-sm);
	font-weight: 600;
	border-radius: var(--radius-md);
	cursor: pointer;
}

.btn-airy:hover:not(:disabled) {
	box-shadow: var(--shadow-btn-airy-hover);
	transform: translateY(-1px);
	background: var(--gradient-btn-airy-hover);
}

.btn-airy:active:not(:disabled) {
	transform: translateY(0);
	box-shadow: var(--shadow-btn-airy-active);
}

@media (width >= 768px) {
	.pdf-action-desktop .btn-airy {
		background: var(--gradient-btn-airy-desktop);
		color: var(--text-main);
		border: 1px solid var(--border-soft);
		box-shadow: var(--shadow-btn-airy-desktop);
		min-height: var(--control-height);
		padding: 0 var(--gap-lg);
	}

	.pdf-action-desktop .btn-airy:hover:not(:disabled) {
		background: var(--gradient-btn-airy-desktop-hover);
		box-shadow: var(--shadow-btn-airy-desktop-hover);
		transform: translateY(-1px);
	}

	.pdf-action-desktop .btn-airy:active:not(:disabled) {
		transform: translateY(0);
		box-shadow: var(--shadow-btn-airy-desktop-active);
	}
}

.btn:active {
	transform: translateY(1px);
	box-shadow: var(--shadow-btn-primary-active);
}

@media (width <= 767px) {
	.controls {
		flex-direction: column;
		align-items: stretch;
	}

	.pdf-action {
		width: 100%;
	}

	.pdf-action-desktop {
		display: none;
	}

	.pdf-action-mobile {
		display: flex;
		margin-top: 8px;
	}

	.pdf-action .btn {
		width: 100%;
		justify-content: center;
	}

	.month-info {
		width: 100%;
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr));
		gap: var(--gap-sm);
		align-items: stretch;
	}

	.day-info {
		width: 100%;
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr));
		gap: var(--gap-sm);
		align-items: stretch;
	}

	.month-select,
	.pill {
		width: 100%;
		height: 100%;
	}

	.day-select {
		width: 100%;
		height: 100%;
		flex-direction: column;
		align-items: flex-start;
		gap: var(--gap-xs);
	}

	.month-select {
		flex-direction: column;
		align-items: flex-start;
		gap: var(--gap-xs);
	}

	.month-select label {
		width: 100%;
		text-align: left;
	}

	.month-select-control {
		width: 100%;
	}

	.month-select-control select {
		width: 100%;
		cursor: pointer;
		text-align: left;
		text-align-last: left;
	}

	.day-select label {
		width: 100%;
		text-align: left;
	}

	.day-select-control {
		width: 100%;
	}

	.day-select-control input[type="date"] {
		width: 100%;
		cursor: pointer;
		text-align: left;
	}

	.pill {
		justify-content: flex-start;
	}

	.pill-info {
		align-items: flex-start;
		text-align: left;
		width: 100%;
	}

	.pill-value {
		white-space: nowrap;
		font-size: clamp(0.78rem, 3.6vw, 0.9rem);
	}
}

/* Route transition / shell for smoother page switches */
.router-shell {
	position: relative;
	width: 100%;
}

.fade-slide-enter-active,
.fade-slide-leave-active {
	transition: opacity .18s ease, transform .18s ease;
}

.fade-slide-enter-from { opacity: 0; transform: translateY(6px); }
.fade-slide-enter-to   { opacity: 1; transform: translateY(0); }
.fade-slide-leave-from { opacity: 1; transform: translateY(0); }
.fade-slide-leave-to   { opacity: 0; transform: translateY(-6px); }

/* Ensure child takes full width during transition */
.router-shell > * {
	width: 100%;
}

/* Optional: hint to browser about upcoming transforms */
.fade-slide-enter-active,
.fade-slide-leave-active {
	will-change: opacity, transform;
}

