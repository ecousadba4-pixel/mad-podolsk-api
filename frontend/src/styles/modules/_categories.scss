@layer components {
/* Category grid and cards (migrated from categories.css) */

/* Auto-fit: адаптивная сетка без медиазапросов */
.category-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  margin-top: var(--grid-gap);
  align-items: stretch;
  grid-auto-rows: 1fr;
  gap: var(--grid-gap);
}

/* Медиазапрос удалён — auto-fit обеспечивает адаптивность */

.category-card, .summary-card-interactive { transition: var(--transition-lift), var(--transition-border); }

.category-card {
	/* moved from `_overrides.scss` — keep min-height token-driven */
	position: relative;
	padding-bottom: clamp(var(--gap-sm), 1.2vw, 16px);
	display:flex;
	flex-direction:column;
	gap:var(--gap-xs);
	width:100%;
	contain:layout style paint;
	min-height: var(--category-card-min-height);
}
.category-card::before { content:""; position:absolute; top: clamp(var(--gap-sm), 1.4vw, 16px); bottom: clamp(var(--gap-sm), 1.4vw, 16px); left: -1px; width: var(--gap-xs); border-radius: var(--radius-xxl); background: transparent; transition: background-color 0.2s ease, box-shadow 0.2s ease; pointer-events: none; }
.category-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-soft); }
.category-card.active { border-color: var(--brand-accent); box-shadow: var(--shadow-category-active); }
.category-card.active::before { background: var(--brand-accent); box-shadow: var(--shadow-category-indicator); }

.category-title { font-size: var(--font-size-h3); font-weight:600; display:flex; justify-content:space-between; align-items:center; gap:var(--gap-sm); margin-bottom: clamp(2px, 0.5vw, var(--gap-sm)); }
.category-pill { font-size: var(--font-size-label); padding:2px var(--gap-sm); border-radius: var(--radius-sm); background: rgb(47 111 237 / 12%); color: var(--text-muted); text-transform: uppercase; }
.category-pill--virtual { display:inline-flex; flex-direction:column; align-items:flex-end; gap:0; line-height:1.05; text-transform:none; }
.category-offplan-note { font-size: var(--font-size-label); line-height:1.05; display:flex; flex-direction:column; gap:0; text-align:right; color:var(--text-muted); text-transform:none; white-space:nowrap; }

.category-values { display:grid; grid-template-columns: minmax(0,0.9fr) minmax(0,0.9fr) minmax(0,1.3fr); gap:var(--gap-sm); font-size:var(--font-size-caption); margin-top: clamp(0px, 0.4vw, 6px); }
.category-values span { display:flex; flex-direction:column; gap:var(--gap-xs); min-width:0; }
.category-values span + span { border-left:1px solid var(--border-soft); padding-left: var(--card-inner-gap); margin-left: var(--gap-xs); }
@media (max-width: 640px) { .category-values span + span { border-left-color: rgb(184 193 216 / 60%); } }
.category-values .label { font-size: var(--font-size-label); color: var(--text-muted); text-transform:uppercase; letter-spacing:0.06em; }
.category-values strong { font-size: clamp(var(--font-size-caption), 1.5vw, 0.94rem); display:inline-flex; align-items:baseline; justify-content:flex-end; gap:var(--gap-xs); flex-wrap:nowrap; max-width:100%; white-space:nowrap; line-height:1.15; letter-spacing:-0.01em; font-variant-numeric:tabular-nums; font-feature-settings: "tnum" 1; }

@media (min-width: 768px) { .category-values { column-gap: var(--gap-md); } .category-values span { min-width:0; } .category-values strong { line-height:1.2; } }
@media (max-width: 480px) { .category-values strong { font-size: clamp(0.74rem, 3.6vw, 0.86rem); } .category-values { text-align:center; } .category-values span { align-items:center; } }

.category-delta { font-weight:600; color:var(--text-main); }
.category-delta.delta-negative { color: var(--danger); }

.category-progress { margin-top:auto; display:flex; flex-direction:column; gap:var(--gap-xs); padding-top:var(--gap-xs); padding-inline: var(--card-inner-gap); }
/* .category-progress-labels and .category-progress-bar/fill are now unified in _cards.scss */

@media (max-width: 640px) { .category-card { gap:0; justify-content: space-evenly; } .category-card > .category-title, .category-card > .category-values, .category-card > .category-progress { margin:0; } .category-title { margin-bottom:0; } .category-values { margin-top:0; } .category-progress { margin-top:0; } }
}
