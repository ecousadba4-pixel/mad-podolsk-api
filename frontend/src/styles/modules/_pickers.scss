@layer components {
/* Pickers, day/month select controls and related primitives */

.day-info { display:flex; gap:var(--gap-md); align-items:stretch }

.day-select {
  display:flex; align-items:center; gap:var(--gap-sm);
  padding: var(--gap-sm) var(--card-inner-gap);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-soft);
  background: var(--bg-card);
  min-width: 162px;
  box-shadow: var(--shadow-card);
  min-height: var(--control-height);
}
.day-select label { font-size: var(--font-size-caption); color: var(--text-muted) }
.day-select-control { position: relative; flex:1; min-width:146px }
.day-select-control input[type="date"] { width:100%; font-family:var(--font-sans); font-size:var(--font-size-body); font-weight:600; appearance:none; padding-right:32px; border:none; background:transparent; color:var(--text-main); outline:none }
.day-select-control::after { content:""; position:absolute; top:50%; right:8px; transform:translateY(-50%); width:20px; height:20px; background: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='3' y='4' width='14' height='13' rx='2' stroke='%236B77F4' stroke-width='1.5'/%3E%3Cpath d='M7 2.5V6' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M13 2.5V6' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M3 8.5H17' stroke='%236B77F4' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E") center/contain no-repeat; opacity:0.8; pointer-events:none }
.day-select-control input[type="date"]::-webkit-calendar-picker-indicator { cursor:pointer; color:transparent; background:transparent; opacity:0; position:absolute; inset:0; width:100%; height:100% }
.day-select-control input[type="date"]:disabled { color:var(--text-muted) }

.month-info { display:flex; align-items:center; gap:var(--gap-md); flex-wrap:nowrap }
.month-select { display:flex; align-items:center; gap:var(--gap-sm); padding:var(--gap-sm) 14px; background:var(--bg-card); border-radius:var(--radius-md); border:1px solid var(--border-soft); box-shadow:var(--shadow-card); min-height:var(--control-height); position:relative }
.month-select label { font-size:var(--font-size-caption); color:var(--text-muted) }

/* Ensure month/day picker labels use centralized font tokens */
.month-picker__label,
.month-select label,
.month-selector__label,
.day-select label,
.day-picker__label {
  font-family: var(--font-din);
}
.month-select-control { position:relative; flex:1; min-width:146px }
.month-select-control select { width:100%; appearance:none; padding-right:26px }
.month-select-control::after { content:""; position:absolute; top:50%; right:8px; width:8px; height:8px; border-right:2px solid var(--chevron-color); border-bottom:2px solid var(--chevron-color); transform:translateY(-50%) rotate(45deg); pointer-events:none; opacity:1 }

select, input[type="date"] { border:none; background:transparent; font-size:var(--font-size-body); color:var(--text-main); outline:none; font-weight:600; font-family: var(--font-sans); }

/* Ensure current value in pickers uses the sans font (month/day current value) */
.month-picker__current,
.day-picker__current {
  font-family: var(--font-sans);
}

/* Center label + current vertically inside picker toggle */
.month-picker__info,
.day-picker__info {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  gap: 2px;
  min-width: 0;
}

/* Day picker: make the info area fill the toggle so the date is centered
   relative to the whole control; place chevron absolutely to the right. */
.day-picker__toggle { position: relative; padding-right: 56px; }
.day-picker__toggle .day-picker__info { width: 100%; justify-content: center; align-items: center; flex: none; }
.day-picker__toggle .day-picker__arrow { position: absolute; right: 2px; top: 50%; transform: translateY(-50%); margin-left: 0; display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; pointer-events: auto; }

.day-picker__toggle .day-picker__arrow svg { width: 18px; height: 18px; }

/* Mirror same behavior for month picker: center month label and make chevron touch target larger */
.month-picker__toggle { position: relative; padding-right: 56px; }
.month-picker__toggle .month-picker__info { width: 100%; justify-content: center; align-items: center; flex: none; }
.month-picker__toggle .month-picker__arrow { position: absolute; right: 2px; top: 50%; transform: translateY(-50%); margin-left: 0; display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; pointer-events: auto; }
.month-picker__toggle .month-picker__arrow svg { width: 18px; height: 18px; }

/* Hover / active / focus styles for chevron area to make it clearly interactive */
.day-picker__toggle .day-picker__arrow,
.month-picker__toggle .month-picker__arrow {
  border-radius: 10px;
  transition: background-color .12s ease, transform .08s ease, box-shadow .12s ease;
}

.day-picker__toggle .day-picker__arrow:hover,
.month-picker__toggle .month-picker__arrow:hover {
  background: var(--surface-highlight);
}

.day-picker__toggle .day-picker__arrow:active,
.month-picker__toggle .month-picker__arrow:active {
  transform: translateY(-50%) scale(.98);
  background: color-mix(in srgb, var(--surface-highlight) 70%, transparent);
}

.day-picker__toggle .day-picker__arrow:focus-visible,
.month-picker__toggle .month-picker__arrow:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent) 20%, transparent);
  outline-offset: 2px;
}
.month-picker__current,
.day-picker__current { display: block; }

@media (max-width: 640px) {
  .day-picker__toggle,
  .picker__toggle {
    width: 100%;
    min-width: 0;
    padding: 0 var(--gap-sm);
    min-height: var(--control-height-mobile);
    height: var(--control-height-mobile);
    gap: var(--gap-sm);
  }
  .day-picker__label { font-size: var(--font-size-tiny); }
  .day-picker__current { font-size: var(--font-size-body); }
}

/* Style chevrons inside pickers (SVG fallback) for better visibility */
.month-picker__arrow,
.day-picker__arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--chevron-color);
  width: 36px;
  height: 36px;
  margin-left: 6px;
}
.month-picker__arrow svg,
.day-picker__arrow svg { width: 18px; height: 18px; }

@media (max-width: 640px) {
  .month-picker__arrow,
  .day-picker__arrow { width: 44px; height: 44px; }
  .month-picker__arrow svg,
  .day-picker__arrow svg { width: 20px; height: 20px; }
}

.month-selector__select { font-family: var(--font-sans); }
.month-select-control select { font-family: var(--font-sans); }

/* Fallback for native option rendering */
select option { font-family: var(--font-sans); }

/* Ensure the native date input used by `DayPicker` is visually hidden
   â€” some browsers may render the native control; keep it off-screen and
   non-interactive so only the custom toggle is visible. */
.day-picker__input {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  width: 1px !important;
  height: 1px !important;
  opacity: 0 !important;
  pointer-events: none !important;
  overflow: hidden !important;
}
}
