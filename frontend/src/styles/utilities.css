/* Small utility classes: text, layout, accessibility helpers */

:root {
  /* utilities may rely on tokens defined in tokens.css */
}
/* Spacing utilities (small focused set) ---------------------------------- */
/* Note: prefer token-based sizes where possible (gap-sm, gap-md, gap-lg) */
.p-0 { padding: 0 !important; }
.pt-0 { padding-top: 0 !important; }
.pr-0 { padding-right: 0 !important; }
.pb-0 { padding-bottom: 0 !important; }
.pl-0 { padding-left: 0 !important; }

.p-sm { padding: var(--gap-sm) !important; }
.pt-sm { padding-top: var(--gap-sm) !important; }
.pb-sm { padding-bottom: var(--gap-sm) !important; }
.pl-sm { padding-left: var(--gap-sm) !important; }
.pr-sm { padding-right: var(--gap-sm) !important; }

.p-md { padding: var(--gap-md) !important; }
.pt-md { padding-top: var(--gap-md) !important; }
.pb-md { padding-bottom: var(--gap-md) !important; }
.pl-md { padding-left: var(--gap-md) !important; }
.pr-md { padding-right: var(--gap-md) !important; }

.p-lg { padding: var(--gap-lg) !important; }
.m-0 { margin: 0 !important; }
.mt-0 { margin-top: 0 !important; }
.mb-0 { margin-bottom: 0 !important; }
.ml-0 { margin-left: 0 !important; }
.mr-0 { margin-right: 0 !important; }

.m-sm { margin: var(--gap-sm) !important; }
.mt-sm { margin-top: var(--gap-sm) !important; }
.mb-sm { margin-bottom: var(--gap-sm) !important; }
.ml-sm { margin-left: var(--gap-sm) !important; }
.mr-sm { margin-right: var(--gap-sm) !important; }

.m-md { margin: var(--gap-md) !important; }
.mt-md { margin-top: var(--gap-md) !important; }
.mb-md { margin-bottom: var(--gap-md) !important; }
.ml-md { margin-left: var(--gap-md) !important; }
.mr-md { margin-right: var(--gap-md) !important; }

/* Flex/grid helpers */
.items-center { align-items: center !important; }
.justify-center { justify-content: center !important; }
.justify-between { justify-content: space-between !important; }
.flex-row { display:flex; flex-direction:row; }
.flex-col { display:flex; flex-direction:column; }

/* Size helpers */
.w-100 { width: 100% !important; }
.max-w-full { max-width: 100% !important; }
.h-auto { height: auto !important; }
.h-32 { height: 32px !important; }
.h-56 { height: var(--control-height) !important; }

/* Control sizing (use tokens) */
.control { height: var(--control-height); min-height: var(--control-height); }
.control-sm { height: var(--control-height-sm); min-height: var(--control-height-sm); }

/* Picker toggle baseline: used by month/day picker controls across components */
.picker-toggle {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  padding: 0 12px;
  border-radius: var(--radius-md);
  cursor: pointer;
  min-width: 160px;
  height: var(--control-height);
}

/* Row helpers */
.row-center { display:flex; align-items:center; gap: var(--gap-sm); }
.row-between { display:flex; align-items:center; justify-content:space-between; gap: var(--gap-sm); }

/* Column helpers */
.col-center { display:flex; flex-direction:column; align-items:center; gap: var(--gap-sm); }

/* Panel controls helper (small left margin to separate from title) */
.panel-controls { display:flex; align-items:center; margin-left:8px; gap: var(--gap-sm); }

/* Card column helper: compact column used inside cards */
.card-col { display:flex; flex-direction:column; min-width:0; flex:1; align-items:center; gap: var(--gap-xs); }

/* Axis padding utilities (helpers for px/py) */
.px-sm { padding-left: var(--gap-sm) !important; padding-right: var(--gap-sm) !important; }
.py-sm { padding-top: var(--gap-sm) !important; padding-bottom: var(--gap-sm) !important; }

@media (max-width: 640px) {
  /* on narrow screens, card columns should left-align content for readability */
  .card-col { align-items: flex-start; }
}

/* Compact variant for small screens */
@media (max-width: 640px) {
  .picker-toggle {
    width: 100%;
    min-width: 0;
    padding: 0 8px;
    min-height: 32px;
    height: 32px;
    gap: 8px;
  }
}

/* Typography helpers (map to tokens) */
.text-h1 { font-size: var(--font-size-h1); }
.text-h2 { font-size: var(--font-size-h2); }
.text-h3 { font-size: var(--font-size-h3); }
.text-body { font-size: var(--font-size-body); }
.text-body-sm { font-size: var(--font-size-body-sm); }
.text-caption { font-size: var(--font-size-caption); }
.text-label { font-size: var(--font-size-label); }

/* Utility for truncation with multiline clamp (2 lines) */
.truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Allow disabling clamp when a component toggles expanded state */
.truncate-2.is-expanded {
  -webkit-line-clamp: unset;
  display: block;
}

/* Accessibility helpers */
.sr-only,
.visually-hidden,
.u-sr-only {
  position: absolute;
  inset: auto;
  inline-size: 1px;
  block-size: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}

@supports not (clip-path: inset(50%)) {
  .sr-only,
  .visually-hidden,
  .u-sr-only {
    clip: rect(0, 0, 0, 0);
  }
}


/* Text helpers */
.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.text-center { text-align: center; }

/* Additional text utilities */
.uppercase { text-transform: uppercase; }
.nowrap { white-space: nowrap; }
.ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Alignment helpers */
.align-right { text-align: right; }
.align-left { text-align: left; }


/* Numeric formatting helper: right align + tabular numbers */
.numeric { text-align: right; font-variant-numeric: tabular-nums; font-feature-settings: "tnum" 1; }

/* Semantic/utility color helpers */
.muted { color: var(--text-muted); }
.negative { color: var(--danger); }

/* Flex helpers */
.d-flex { display: flex; }
.flex-center { display:flex; align-items:center; justify-content:center; }
.flex-column { display:flex; flex-direction:column; }

/* Simple spacing helpers (small set used across components) */
.gap-sm { gap: var(--gap-sm); }
.gap-md { gap: var(--gap-md); }
.gap-lg { gap: var(--gap-lg); }

/* Small button baseline (extend in components.css if needed) */
.btn { display:inline-flex; align-items:center; justify-content:center; gap:var(--gap-xs); cursor:pointer; border:none; background:transparent; padding:0; }
/* Утилиты: доступность, переходы, скелетоны */

.transition-lift,
.u-transition-lift {
  transition: var(--transition-lift);
}

.transition-lift-fade,
.u-transition-lift-fade {
  transition: var(--transition-lift), var(--transition-fade);
}

.transition-lift-border,
.u-transition-lift-border {
  transition: var(--transition-lift), var(--transition-border);
}

.skeleton,
.u-skeleton {
  position: relative;
  overflow: hidden;
  background: var(--gradient-skeleton);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: var(--radius-sm);
  will-change: background-position;
}

.skeleton-line,
.u-skeleton-line {
  height: 12px;
  width: 100%;
  margin-bottom: 10px;
}

.skeleton-line-sm,
.u-skeleton-line-sm {
  width: 60%;
}

.skeleton-line-lg,
.u-skeleton-line-lg {
  height: 20px;
}

.skeleton-line-xs,
.u-skeleton-line-xs {
  width: 40%;
  margin-bottom: 0;
}

.summary-card-skeleton,
.category-card-skeleton,
.work-row-skeleton {
  background: var(--bg-card);
  border: 1px solid rgba(209, 214, 229, 0.8);
  border-radius: var(--radius-lg);
  padding: var(--card-padding);
  box-shadow: var(--shadow-card);
}

.category-card-skeleton {
  display: flex;
  flex-direction: column;
  gap: var(--gap-md);
  border-radius: 20px;
}

.work-row-skeleton {
  display: grid;
  grid-template-columns: minmax(0, 3.4fr) repeat(3, minmax(0, 0.9fr));
  gap: var(--gap-md);
  margin-bottom: var(--gap-md);
}

.work-row-skeleton .skeleton-line,
.work-row-skeleton .u-skeleton-line {
  height: 16px;
  margin-bottom: 0;
}

.work-list-skeleton,
.skeleton-grid,
.skeleton-category {
  display: none;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@media (prefers-reduced-motion: reduce) {
  .skeleton,
  .u-skeleton {
    animation: none;
  }
}

/* Generic pill helper (migrated from layout.css) */
.pill {
  font-size: var(--font-size-caption);
  padding: var(--gap-sm) var(--card-inner-gap);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-soft);
  background: var(--bg-muted);
  color: var(--text-main);
  display: inline-flex;
  align-items: center;
  gap: var(--gap-sm);
  min-height: var(--control-height);
}

.pill-dot {
  width: 14px;
  height: 14px;
  border-radius: var(--radius-xxl);
  background: var(--success);
  position: relative;
  flex: 0 0 auto;
  box-shadow: 0 2px 6px rgba(15,157,88,0.18);
  isolation: isolate;
}

.pill-dot::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: var(--control-height-sm);
  height: var(--control-height-sm);
  border-radius: var(--radius-xxl);
  background: rgba(15,157,88,0.08);
  filter: blur(6px);
  pointer-events: none;
  z-index: -1;
}

.pill-info {
  display: flex;
  flex-direction: column;
  line-height: 1.15;
  width: 100%;
  align-items: center;
  text-align: center;
}

.pill-label,
.pill-value {
  display: block;
  width: 100%;
  text-align: center;
}

.pill-label {
  font-size: var(--font-size-tiny);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
}

.pill-value {
  font-weight: 600;
  color: var(--text-main);
  word-break: break-word;
}

/* Table skeleton styles (moved from components.css) */
.table-skeleton{display:flex;flex-direction:column;gap:12px}
.table-skeleton__header{display:grid;grid-template-columns:1fr 120px 120px 120px;gap:12px;margin-bottom:6px}
.table-skeleton__body{display:flex;flex-direction:column;gap:10px}
.tr{display:grid;grid-template-columns:1fr 120px 120px 120px;gap:12px;align-items:center}
.th,.td{height:18px;border-radius:6px;background:linear-gradient(90deg, rgba(0,0,0,0.06) 0%, rgba(0,0,0,0.04) 50%, rgba(0,0,0,0.06) 100%);}
.th.name,.td.name{height:20px;width:100%}
.th.numeric,.td.numeric{height:18px;width:100%;justify-self:end}
.table-skeleton__body .tr .td{opacity:0.9}

/* keep day-picker hidden input utility here for shared usage */
.day-picker__input { position:absolute; left:0; top:0; width:1px; height:1px; opacity:0; pointer-events:none }

