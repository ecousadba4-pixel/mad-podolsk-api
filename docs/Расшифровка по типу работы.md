# Концепция
В дашборд добавляется новый признак - Тип работы.
Итоговая структура иерархии работ: Смета -> Тип работы -> Название работы.

# Источник данных
БД postgres
type_of_work
    - type_work - text
    - id_type_of_work - BIGINT PRIMARY KEY
Тип работы это столбец type_work.

Связка происходит с другими таблицами по паре smeta_code и smeta_section.
Эти столбцы есть в представлениях mv_fact_daily_amounts и mv_plan_vs_fact_monthly_ids.

# Изменения в дашборде
## Модальное окно при нажатии на карточку Факт в разделе KPI
1. Заголовок модального окна "По типу работ"
2. Колонки таблицы
    - Тип Работы
    - Сумма
3. Сортировка в таблице по колонке Сумма от большего к меньшему значению
4. В таблице строка Итого со значением по столбцу Сумма - выделяем жирным
5. Оформление модального окна - оформляем в логике других модальных окон
6. На карточку Факт добавляем иконку i - такую же как на карточке Среднедневная выручка
    
## Модернизация раздела Расшифровка работ по смете 
1. Изменение структуры таблицы
    Дя ПК Версии:
        - добавляем группировку работ на уровне Тип работы - в той же колонке Работы, добавляем вложенную иерархию
        - для каждого Типа работ добавляем промежуточный итог по столбцу Сумма + делаем жирным шрифтом такую строку
    Для Мобильной версии - не вводим изменений

2. Изменение сортировки работ в таблице Расшифровка работ - только для ПК версии изменения
    - кнопка сортировки в колонках План/Факт/Отклонение делает сортировку только по сумме промежуточного итога по Типам работ
    - базово применяются следующие сортировки
        - для смет Лето и Зима - сортировка по столбцу План
        - для сметы Внерегламент - сортировка по столбцу Факт
    - виды работ внутри группировки по Типам работы всегда отсортированы от большего значений к меньшему в зависимости от выбранного столбца для сортировки
